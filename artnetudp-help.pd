#N canvas 259 28 870 704 12;
#X declare -lib artnetlib;
#X obj 28 335 artnetudp;
#X msg 109 294 localhost;
#X msg 29 90 nicinfo;
#X msg 128 256 usenic \$1;
#X msg 91 206 targetip \$1;
#X symbolatom 127 235 14 0 0 0 - - - 0;
#X symbolatom 91 185 18 0 0 0 - - - 0;
#X obj 205 292 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 204 316 outputalways \$1;
#X msg 49 120 find_nodes;
#X msg 70 155 find_nodes_all_nics;
#X text 188 5 <-- use this on your top level patch so that the lib gets loaded;
#X text 391 48 [artnetudp] send and receives UDP messages on port 6454;
#X text 391 92 method "nicinfo" list all your network cards to outlet 4;
#X text 394 455 method "localhost" sets "targetip" and "usenic" to the loopback address 127.0.0.1.;
#X text 390 235 method "find_nodes_all_nics" is a super version of "find_nodes". First it binds the UDP port to all your network cards \, then runs an internal "nicinfo" and sends an artnet poll en each of the ipv4 broadcast address it finds. it waits for 2 seconds and then it switches back to the previous "targetip" and "usenic" settings. Basically it tries to find an artnet-node on all your networks.;
#X text 166 540 outlets:;
#X text 187 565 1st: list of raw bytes if it receives an artnet-dmx message.;
#X text 187 619 3rd: any other received artnet message that is not an artnet-reply or artnet-dmx., f 86;
#X text 186 647 4th: list of 3 symbols (<Ethernet> <ip version> <ip address>) per network card your system., f 93;
#X text 229 184 i.e: 192.168.1.54;
#X text 234 235 i.e: 192.168.1.66;
#X text 392 500 method "outputalways": when set to 0 the 1st outlet (the DMX outlet) only outputs if there was a change in the DMX values else it constantly outputs the DMX values it receives.;
#X text 188 592 2nd: list of 3 symbols (<ip> <short name> <long name>) when an artnet-reply is received., f 90;
#X text 390 128 method "find_nodes" sends an artnet poll message. the message is sent to a broadcast address based on "targetip" settings (if "targetip" is set to 192.168.1.1 the message will be sent to 192.168.1.255). other Art-Net devices will reply to this poll. Their reply shows up on outlet 2 as a list of 3 symbols containing <ip> <short name> <long name>;
#X obj 16 6 declare -lib artnetlib;
#X obj 19 591 help-abs;
#X obj 89 391 print artnetudphelp-nicinfo;
#X obj 68 419 print artnetudphelp-not-dmx;
#X obj 48 447 print artnetudphelp-artnet-node;
#X obj 28 476 print artnetudphelp-dmx;
#X text 391 369 method "targetip" sets the ipv4 address to send. if not provided defaults to 192.168.1.1;
#X text 393 406 method "usenic" sets the ipv4 address of the network card to use for receiving. if not provided defaults to 0.0.0.0;
#X connect 0 0 30 0;
#X connect 0 1 29 0;
#X connect 0 2 28 0;
#X connect 0 3 27 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 0 0;
